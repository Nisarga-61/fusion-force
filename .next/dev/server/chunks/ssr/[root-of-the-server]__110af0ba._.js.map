{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Desktop/pixelgenesis/src/components/ConsentSelector.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\nexport function ConsentSelector({ fields, onChange }: { fields: string[]; onChange: (selected: string[]) => void }) {\r\n  const [selected, setSelected] = React.useState<string[]>([]);\r\n  const toggle = (f: string) => {\r\n    const next = selected.includes(f) ? selected.filter((x) => x !== f) : [...selected, f];\r\n    setSelected(next);\r\n    onChange(next);\r\n  };\r\n  return (\r\n    <div className=\"space-y-2\">\r\n      {fields.map((f) => (\r\n        <label key={f} className=\"flex items-center gap-2\">\r\n          <input type=\"checkbox\" checked={selected.includes(f)} onChange={() => toggle(f)} />\r\n          <span>{f}</span>\r\n        </label>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGO,SAAS,gBAAgB,EAAE,MAAM,EAAE,QAAQ,EAAgE;IAChH,MAAM,CAAC,UAAU,YAAY,GAAG,gNAAK,CAAC,QAAQ,CAAW,EAAE;IAC3D,MAAM,SAAS,CAAC;QACd,MAAM,OAAO,SAAS,QAAQ,CAAC,KAAK,SAAS,MAAM,CAAC,CAAC,IAAM,MAAM,KAAK;eAAI;YAAU;SAAE;QACtF,YAAY;QACZ,SAAS;IACX;IACA,qBACE,8OAAC;QAAI,WAAU;kBACZ,OAAO,GAAG,CAAC,CAAC,kBACX,8OAAC;gBAAc,WAAU;;kCACvB,8OAAC;wBAAM,MAAK;wBAAW,SAAS,SAAS,QAAQ,CAAC;wBAAI,UAAU,IAAM,OAAO;;;;;;kCAC7E,8OAAC;kCAAM;;;;;;;eAFG;;;;;;;;;;AAOpB","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Desktop/pixelgenesis/src/components/VerificationResult.tsx"],"sourcesContent":["import React from \"react\";\r\n\r\nexport function VerificationResult({ status, message }: { status: \"valid\" | \"invalid\" | \"pending\"; message?: string }) {\r\n  const label = status === \"valid\" ? \"✅ valid\" : status === \"invalid\" ? \"❌ invalid\" : \"⏳ pending\";\r\n  return (\r\n    <div className=\"rounded-md border p-3 text-sm\">\r\n      <span className=\"font-medium\">Result: {label}</span>\r\n      {message && <p className=\"text-zinc-600\">{message}</p>}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEO,SAAS,mBAAmB,EAAE,MAAM,EAAE,OAAO,EAAiE;IACnH,MAAM,QAAQ,WAAW,UAAU,YAAY,WAAW,YAAY,cAAc;IACpF,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAK,WAAU;;oBAAc;oBAAS;;;;;;;YACtC,yBAAW,8OAAC;gBAAE,WAAU;0BAAiB;;;;;;;;;;;;AAGhD","debugId":null}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Desktop/pixelgenesis/src/components/WalletConnector.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { ethers } from \"ethers\";\r\n\r\nexport default function WalletConnector({ onConnected }: { onConnected?: (account: string) => void }) {\r\n  const [account, setAccount] = useState<string>(\"\");\r\n  const [error, setError] = useState<string>(\"\");\r\n\r\n  const connect = async () => {\r\n    setError(\"\");\r\n    try {\r\n      if (!(window as any).ethereum) {\r\n        setError(\"MetaMask not found. Please install it.\");\r\n        return;\r\n      }\r\n      const provider = new ethers.BrowserProvider((window as any).ethereum);\r\n      const accounts = await provider.send(\"eth_requestAccounts\", []);\r\n      const acc = accounts[0];\r\n      setAccount(acc);\r\n      onConnected?.(acc);\r\n    } catch (e: any) {\r\n      setError(e?.message || \"Failed to connect wallet\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const eth = (window as any).ethereum;\r\n    if (!eth) return;\r\n    const handler = (accounts: string[]) => {\r\n      if (accounts?.[0]) setAccount(accounts[0]);\r\n    };\r\n    eth.on?.(\"accountsChanged\", handler);\r\n    return () => eth.removeListener?.(\"accountsChanged\", handler);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-2\">\r\n      {account ? (\r\n        <span className=\"text-sm text-zinc-600\">{account.slice(0, 6)}...{account.slice(-4)}</span>\r\n      ) : (\r\n        <button onClick={connect} className=\"rounded-md bg-black px-3 py-2 text-white hover:bg-zinc-800\">\r\n          Connect Wallet\r\n        </button>\r\n      )}\r\n      {error && <span className=\"text-xs text-red-600\">{error}</span>}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIe,SAAS,gBAAgB,EAAE,WAAW,EAA+C;IAClG,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAS;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS;IAE3C,MAAM,UAAU;QACd,SAAS;QACT,IAAI;YACF,IAAI,CAAC,AAAC,OAAe,QAAQ,EAAE;gBAC7B,SAAS;gBACT;YACF;YACA,MAAM,WAAW,IAAI,0LAAM,CAAC,eAAe,CAAC,AAAC,OAAe,QAAQ;YACpE,MAAM,WAAW,MAAM,SAAS,IAAI,CAAC,uBAAuB,EAAE;YAC9D,MAAM,MAAM,QAAQ,CAAC,EAAE;YACvB,WAAW;YACX,cAAc;QAChB,EAAE,OAAO,GAAQ;YACf,SAAS,GAAG,WAAW;QACzB;IACF;IAEA,IAAA,kNAAS,EAAC;QACR,MAAM,MAAM,AAAC,OAAe,QAAQ;QACpC,IAAI,CAAC,KAAK;QACV,MAAM,UAAU,CAAC;YACf,IAAI,UAAU,CAAC,EAAE,EAAE,WAAW,QAAQ,CAAC,EAAE;QAC3C;QACA,IAAI,EAAE,GAAG,mBAAmB;QAC5B,OAAO,IAAM,IAAI,cAAc,GAAG,mBAAmB;IACvD,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;YACZ,wBACC,8OAAC;gBAAK,WAAU;;oBAAyB,QAAQ,KAAK,CAAC,GAAG;oBAAG;oBAAI,QAAQ,KAAK,CAAC,CAAC;;;;;;qCAEhF,8OAAC;gBAAO,SAAS;gBAAS,WAAU;0BAA6D;;;;;;YAIlG,uBAAS,8OAAC;gBAAK,WAAU;0BAAwB;;;;;;;;;;;;AAGxD","debugId":null}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Desktop/pixelgenesis/src/lib/web3.ts"],"sourcesContent":["import { ethers } from \"ethers\";\r\n\r\nexport const getBrowserProvider = () => {\r\n  if (typeof window === \"undefined\") return undefined;\r\n  const eth = (window as any).ethereum;\r\n  if (!eth) return undefined;\r\n  return new ethers.BrowserProvider(eth);\r\n};\r\n\r\nexport const getSigner = async () => {\r\n  const provider = getBrowserProvider();\r\n  if (!provider) throw new Error(\"No provider\");\r\n  return await provider.getSigner();\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAEO,MAAM,qBAAqB;IAChC,wCAAmC,OAAO;;;IAC1C,MAAM;AAGR;AAEO,MAAM,YAAY;IACvB,MAAM,WAAW;IACjB,IAAI,CAAC,UAAU,MAAM,IAAI,MAAM;IAC/B,OAAO,MAAM,SAAS,SAAS;AACjC","debugId":null}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Desktop/pixelgenesis/src/lib/abis.ts"],"sourcesContent":["export const DIDsAbi = [\r\n  { \"type\": \"function\", \"name\": \"createDID\", \"stateMutability\": \"nonpayable\", \"inputs\": [\r\n      {\"name\":\"user\",\"type\":\"address\"}, {\"name\":\"didHash\",\"type\":\"bytes32\"}\r\n    ], \"outputs\": [] },\r\n  { \"type\": \"function\", \"name\": \"resolveDID\", \"stateMutability\": \"view\", \"inputs\": [\r\n      {\"name\":\"user\",\"type\":\"address\"}\r\n    ], \"outputs\": [{\"name\":\"\",\"type\":\"bytes32\"}] },\r\n  { \"type\": \"function\", \"name\": \"updateDID\", \"stateMutability\": \"nonpayable\", \"inputs\": [\r\n      {\"name\":\"user\",\"type\":\"address\"}, {\"name\":\"newDidHash\",\"type\":\"bytes32\"}\r\n    ], \"outputs\": [] },\r\n  { \"type\": \"function\", \"name\": \"getDIDDocument\", \"stateMutability\": \"view\", \"inputs\": [\r\n      {\"name\":\"user\",\"type\":\"address\"}\r\n    ], \"outputs\": [{\"name\":\"\",\"type\":\"string\"}] }\r\n] as const;\r\n\r\nexport const CredentialRegistryAbi = [\r\n  {\"type\":\"function\",\"name\":\"issueCredential\",\"stateMutability\":\"nonpayable\",\"inputs\":[\r\n    {\"name\":\"holder\",\"type\":\"address\"}, {\"name\":\"credentialType\",\"type\":\"string\"}, {\"name\":\"ipfsHash\",\"type\":\"bytes32\"}, {\"name\":\"signature\",\"type\":\"bytes\"}\r\n  ],\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}]},\r\n  {\"type\":\"function\",\"name\":\"verifyCredential\",\"stateMutability\":\"view\",\"inputs\":[{\"name\":\"credentialId\",\"type\":\"bytes32\"}],\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}]},\r\n  {\"type\":\"function\",\"name\":\"revokeCredential\",\"stateMutability\":\"nonpayable\",\"inputs\":[{\"name\":\"credentialId\",\"type\":\"bytes32\"}],\"outputs\":[]},\r\n  {\"type\":\"function\",\"name\":\"getCredentialStatus\",\"stateMutability\":\"view\",\"inputs\":[{\"name\":\"credentialId\",\"type\":\"bytes32\"}],\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}]}\r\n] as const;\r\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,UAAU;IACrB;QAAE,QAAQ;QAAY,QAAQ;QAAa,mBAAmB;QAAc,UAAU;YAClF;gBAAC,QAAO;gBAAO,QAAO;YAAS;YAAG;gBAAC,QAAO;gBAAU,QAAO;YAAS;SACrE;QAAE,WAAW,EAAE;IAAC;IACnB;QAAE,QAAQ;QAAY,QAAQ;QAAc,mBAAmB;QAAQ,UAAU;YAC7E;gBAAC,QAAO;gBAAO,QAAO;YAAS;SAChC;QAAE,WAAW;YAAC;gBAAC,QAAO;gBAAG,QAAO;YAAS;SAAE;IAAC;IAC/C;QAAE,QAAQ;QAAY,QAAQ;QAAa,mBAAmB;QAAc,UAAU;YAClF;gBAAC,QAAO;gBAAO,QAAO;YAAS;YAAG;gBAAC,QAAO;gBAAa,QAAO;YAAS;SACxE;QAAE,WAAW,EAAE;IAAC;IACnB;QAAE,QAAQ;QAAY,QAAQ;QAAkB,mBAAmB;QAAQ,UAAU;YACjF;gBAAC,QAAO;gBAAO,QAAO;YAAS;SAChC;QAAE,WAAW;YAAC;gBAAC,QAAO;gBAAG,QAAO;YAAQ;SAAE;IAAC;CAC/C;AAEM,MAAM,wBAAwB;IACnC;QAAC,QAAO;QAAW,QAAO;QAAkB,mBAAkB;QAAa,UAAS;YAClF;gBAAC,QAAO;gBAAS,QAAO;YAAS;YAAG;gBAAC,QAAO;gBAAiB,QAAO;YAAQ;YAAG;gBAAC,QAAO;gBAAW,QAAO;YAAS;YAAG;gBAAC,QAAO;gBAAY,QAAO;YAAO;SACxJ;QAAC,WAAU;YAAC;gBAAC,QAAO;gBAAG,QAAO;YAAS;SAAE;IAAA;IAC1C;QAAC,QAAO;QAAW,QAAO;QAAmB,mBAAkB;QAAO,UAAS;YAAC;gBAAC,QAAO;gBAAe,QAAO;YAAS;SAAE;QAAC,WAAU;YAAC;gBAAC,QAAO;gBAAG,QAAO;YAAM;SAAE;IAAA;IAC/J;QAAC,QAAO;QAAW,QAAO;QAAmB,mBAAkB;QAAa,UAAS;YAAC;gBAAC,QAAO;gBAAe,QAAO;YAAS;SAAE;QAAC,WAAU,EAAE;IAAA;IAC5I;QAAC,QAAO;QAAW,QAAO;QAAsB,mBAAkB;QAAO,UAAS;YAAC;gBAAC,QAAO;gBAAe,QAAO;YAAS;SAAE;QAAC,WAAU;YAAC;gBAAC,QAAO;gBAAG,QAAO;YAAM;SAAE;IAAA;CACnK","debugId":null}},
    {"offset": {"line": 431, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Desktop/pixelgenesis/src/lib/addresses.ts"],"sourcesContent":["export const DIDS_ADDRESS = process.env.NEXT_PUBLIC_DIDS_ADDRESS || \"\";\r\nexport const CREDENTIAL_REGISTRY_ADDRESS = process.env.NEXT_PUBLIC_CREDENTIAL_REGISTRY_ADDRESS || \"\";\r\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,eAAe,QAAQ,GAAG,CAAC,wBAAwB,IAAI;AAC7D,MAAM,8BAA8B,QAAQ,GAAG,CAAC,uCAAuC,IAAI","debugId":null}},
    {"offset": {"line": 443, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/OneDrive/Desktop/pixelgenesis/src/app/verify/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { ConsentSelector } from \"@/components/ConsentSelector\";\r\nimport { VerificationResult } from \"@/components/VerificationResult\";\r\nimport WalletConnector from \"@/components/WalletConnector\";\r\nimport React from \"react\";\r\nimport { ethers } from \"ethers\";\r\nimport { getBrowserProvider } from \"@/lib/web3\";\r\nimport { CredentialRegistryAbi } from \"@/lib/abis\";\r\nimport { CREDENTIAL_REGISTRY_ADDRESS } from \"@/lib/addresses\";\r\n\r\nexport default function Page() {\r\n  const [selected, setSelected] = React.useState<string[]>([]);\r\n  const [status, setStatus] = React.useState<\"valid\" | \"invalid\" | \"pending\">(\"pending\");\r\n  const [credentialId, setCredentialId] = React.useState<string>(\"\");\r\n\r\n  const request = async () => {\r\n    await fetch(\"/api/verify/request\", { method: \"POST\", body: JSON.stringify({ requiredClaims: [\"age > 18\"] }) });\r\n  };\r\n\r\n  const present = async () => {\r\n    setStatus(\"pending\");\r\n    await fetch(\"/api/verify/present\", { method: \"POST\", body: JSON.stringify({ claims: selected }) });\r\n    const res = await fetch(\"/api/verify/validate\", { method: \"POST\" });\r\n    const data = await res.json();\r\n    setStatus(data.valid ? \"valid\" : \"invalid\");\r\n  };\r\n\r\n  const onChainVerify = async () => {\r\n    try {\r\n      if (!credentialId || !CREDENTIAL_REGISTRY_ADDRESS) return;\r\n      const provider = getBrowserProvider();\r\n      if (!provider) return;\r\n      const signer = await provider.getSigner();\r\n      const contract = new ethers.Contract(CREDENTIAL_REGISTRY_ADDRESS, CredentialRegistryAbi as any, signer);\r\n      const ok = await contract.verifyCredential(credentialId as any);\r\n      setStatus(ok ? \"valid\" : \"invalid\");\r\n    } catch (e) {\r\n      console.warn(\"on-chain verify failed\", e);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mx-auto max-w-3xl space-y-6 p-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-2xl font-semibold\">Verification</h1>\r\n        <WalletConnector />\r\n      </div>\r\n      <div className=\"space-y-3\">\r\n        <button onClick={request} className=\"rounded-md border px-3 py-2\">Request Claims</button>\r\n        <ConsentSelector fields={[\"degree\", \"issuer\", \"issueDate\", \"age > 18\"]} onChange={setSelected} />\r\n        <button onClick={present} className=\"rounded-md bg-black px-3 py-2 text-white\">Present</button>\r\n        <div className=\"rounded-md border p-3\">\r\n          <div className=\"text-sm font-medium\">On-chain Verification</div>\r\n          <input className=\"mt-2 w-full rounded-md border px-3 py-2\" placeholder=\"credentialId (0x...)\" value={credentialId} onChange={(e) => setCredentialId(e.target.value)} />\r\n          <button onClick={onChainVerify} className=\"mt-2 rounded-md border px-3 py-2\">Verify On-chain</button>\r\n          {!CREDENTIAL_REGISTRY_ADDRESS && <p className=\"text-xs text-zinc-500 mt-1\">Set NEXT_PUBLIC_CREDENTIAL_REGISTRY_ADDRESS to enable.</p>}\r\n        </div>\r\n        <VerificationResult status={status} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;;AAUe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,gNAAK,CAAC,QAAQ,CAAW,EAAE;IAC3D,MAAM,CAAC,QAAQ,UAAU,GAAG,gNAAK,CAAC,QAAQ,CAAkC;IAC5E,MAAM,CAAC,cAAc,gBAAgB,GAAG,gNAAK,CAAC,QAAQ,CAAS;IAE/D,MAAM,UAAU;QACd,MAAM,MAAM,uBAAuB;YAAE,QAAQ;YAAQ,MAAM,KAAK,SAAS,CAAC;gBAAE,gBAAgB;oBAAC;iBAAW;YAAC;QAAG;IAC9G;IAEA,MAAM,UAAU;QACd,UAAU;QACV,MAAM,MAAM,uBAAuB;YAAE,QAAQ;YAAQ,MAAM,KAAK,SAAS,CAAC;gBAAE,QAAQ;YAAS;QAAG;QAChG,MAAM,MAAM,MAAM,MAAM,wBAAwB;YAAE,QAAQ;QAAO;QACjE,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,UAAU,KAAK,KAAK,GAAG,UAAU;IACnC;IAEA,MAAM,gBAAgB;QACpB,IAAI;YACF,IAAI,CAAC,gBAAgB,CAAC,sJAA2B,EAAE;YACnD,MAAM,WAAW,IAAA,wIAAkB;YACnC,IAAI,CAAC,UAAU;YACf,MAAM,SAAS,MAAM,SAAS,SAAS;YACvC,MAAM,WAAW,IAAI,0LAAM,CAAC,QAAQ,CAAC,sJAA2B,EAAE,2IAAqB,EAAS;YAChG,MAAM,KAAK,MAAM,SAAS,gBAAgB,CAAC;YAC3C,UAAU,KAAK,UAAU;QAC3B,EAAE,OAAO,GAAG;YACV,QAAQ,IAAI,CAAC,0BAA0B;QACzC;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,8OAAC,gJAAe;;;;;;;;;;;0BAElB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAO,SAAS;wBAAS,WAAU;kCAA8B;;;;;;kCAClE,8OAAC,wJAAe;wBAAC,QAAQ;4BAAC;4BAAU;4BAAU;4BAAa;yBAAW;wBAAE,UAAU;;;;;;kCAClF,8OAAC;wBAAO,SAAS;wBAAS,WAAU;kCAA2C;;;;;;kCAC/E,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAsB;;;;;;0CACrC,8OAAC;gCAAM,WAAU;gCAA0C,aAAY;gCAAuB,OAAO;gCAAc,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;;;;;;0CAClK,8OAAC;gCAAO,SAAS;gCAAe,WAAU;0CAAmC;;;;;;4BAC5E,CAAC,sJAA2B,kBAAI,8OAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;kCAE7E,8OAAC,8JAAkB;wBAAC,QAAQ;;;;;;;;;;;;;;;;;;AAIpC","debugId":null}}]
}